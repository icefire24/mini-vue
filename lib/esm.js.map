{"version":3,"file":"esm.js","sources":["../src/shared/index.ts","../src/reactivity/effect.ts","../src/reactivity/reactive.ts","../src/reactivity/ref.ts","../src/runtime-core/componentEmit.ts","../src/runtime-core/componentProps.ts","../src/runtime-core/component.ts","../src/runtime-core/createVnode.ts","../src/runtime-core/createApp.ts","../src/runtime-core/queueJob.ts","../src/runtime-core/render.ts","../src/runtime-core/h.ts","../src/runtime-core/apiprovides.ts","../src/runtime-dom/index.ts"],"sourcesContent":["export const extend = Object.assign\nexport const isObject=(val) => {\n    if (val != null && typeof val == 'object') {\n     return true\n    }\n    return false\n}\nexport function hasChanged(value, oldValue) {\n  return !Object.is(value, oldValue);\n}\n","import { extend } from '../shared'\nlet shouldTrack = false\nlet activeEffect\n\nexport class ReactiveEffect {\n  private _fn\n  private scheduler\n  active = true\n  deps = []\n  constructor(fn, scheduler?) {\n    this._fn = fn\n    this.scheduler = scheduler\n  }\n  public onStop?: () => void\n\n  stop() {\n    if (this.active) {\n      cleanupEffect(this)\n      if (this.onStop) {\n        this.onStop()\n      }\n      this.active = false\n    }\n  }\n  run() {\n    if (!this.active) {\n      activeEffect = this\n      return this._fn()\n    }\n    shouldTrack = true\n    activeEffect = this\n    const result = this._fn()\n\n    // 执行fn后停止收集依赖\n    shouldTrack = false\n\n    return result\n  }\n}\nconst cleanupEffect = (effect) => {\n  effect.deps.forEach((dep: any) => {\n    dep.delete(effect)\n  })\n  effect.deps.length = 0\n}\nexport function effect(fn, options: any = {}) {\n  const _effect = new ReactiveEffect(fn, options.scheduler)\n  extend(_effect, options)\n  console.log(_effect)\n\n  _effect.run()\n  const runner: any = _effect.run.bind(_effect)\n  runner.effect = _effect\n  return runner\n}\nconst targetMap = new Map()\nexport const track = (target, key) => {\n  //target->key->dep\n\n  let depsMap = targetMap.get(target)\n  if (!depsMap) {\n    depsMap = new Map()\n    targetMap.set(target, depsMap)\n  }\n  let dep = depsMap.get(key)\n  if (!dep) {\n    dep = new Set()\n    depsMap.set(key, dep)\n  }\n  if (!activeEffect) return\n  if (shouldTrack) {\n    dep.add(activeEffect)\n    activeEffect.deps.push(dep)\n  }\n}\nexport const trackEffects = (dep) => {\n  if (dep.has(activeEffect)) return\n  dep.add(activeEffect)\n  activeEffect.deps.push(dep)\n}\nexport const triggerEffects = (dep) => {\n  dep.forEach((effect) => {\n    if (effect.scheduler) {\n      effect.scheduler()\n    } else {\n      effect.run()\n    }\n  })\n}\nexport const isTrack = () => {\n  return shouldTrack && activeEffect != undefined\n}\nexport const trigger = (target, key) => {\n  let depsMap = targetMap.get(target)\n  let dep = depsMap.get(key)\n  triggerEffects(dep)\n}\n\nexport const stop = (runner) => {\n  return runner.effect.stop()\n}\n","import { isObject } from \"../shared\";\nimport { track, trigger } from \"./effect\";\n\nfunction reactive(val) {\n  return new Proxy(val, {\n    get: createGetter(),\n    set: createSetter(),\n  });\n}\nexport const enum ReactiveFlags {\n  IS_REACTIVE = \"__v_isReactive\",\n  IS_READONLY = \"__v_isReadonly\",\n  RAW = \"__v_raw\",\n}\nconst readonly = (val) => {\n  return new Proxy(val, {\n    get: createGetter(true),\n    set: createSetter(true),\n  });\n};\n\nconst createGetter = (isReadonly = false) => {\n  return function get(target, key) {\n    if (key == ReactiveFlags.IS_REACTIVE) {\n      return !isReadonly;\n    } else if (key == ReactiveFlags.IS_READONLY) {\n      return isReadonly;\n    }\n    const res = Reflect.get(target, key);\n    if (isObject(res)) {\n\n      return isReadonly ? readonly(res) : reactive(res);\n    }\n    isReadonly ? \"\" : track(target, key);\n    return res;\n  };\n};\nconst createSetter = (isReadonly = false) => {\n  return function set(target, key, newval) {\n    if (isReadonly) {\n      return true;\n    } else {\n      const res = Reflect.set(target, key, newval);\n      trigger(target, key);\n      return res;\n    }\n  };\n};\nexport const isReactive = (val) => {\n  return !!val[ReactiveFlags.IS_REACTIVE];\n};\nexport const isReadonly = (val) => {\n  return !!val[ReactiveFlags.IS_READONLY];\n};\nexport const isProxy = (val) => {\n  return isReadonly(val) || isReactive(val);\n};\nexport { reactive, readonly };\n","import { hasChanged, isObject } from \"../shared/index\";\nimport { isTrack, trackEffects, triggerEffects } from \"./effect\";\nimport { reactive } from \"./reactive\";\n\nclass revimlp {\n  private _value: unknown;\n  public oldvalue: any;\n  public __v_isRef = true;\n  public dep;\n  constructor(val) {\n    this.oldvalue = val;\n    this._value = convet(val);\n    this.dep = new Set();\n  }\n  get value() {\n    if (isTrack()) {\n      trackEffects(this.dep);\n      return this._value;\n    } else {\n      return this._value;\n    }\n  }\n  set value(val) {\n    if (hasChanged(val, this.oldvalue)) {\n      this.oldvalue = val;\n      this._value = convet(val);\n      triggerEffects(this.dep);\n    }\n  }\n}\nconst convet = (val) => {\n  return isObject(val) ? reactive(val) : val;\n};\nconst ref = (val) => {\n  return new revimlp(val);\n};\nconst shallowUnwrapHandlers = {\n  get(target, key, receiver) {\n    // 如果里面是一个 ref 类型的话，那么就返回 .value\n    // 如果不是的话，那么直接返回value 就可以了\n    return unRef(Reflect.get(target, key, receiver));\n  },\n  set(target, key, value, receiver) {\n    const oldValue = target[key];\n    if (isRef(oldValue) && !isRef(value)) {\n      return (target[key].value = value);\n    } else {\n      return Reflect.set(target, key, value, receiver);\n    }\n  },\n};\n\n// 这里没有处理 objectWithRefs 是 reactive 类型的时候\n// BUG reactive 里面如果有 ref 类型的 key 的话， 那么也是不需要调用 ref.value 的\n// （but 这个逻辑在 reactive 里面没有实现）\nexport function proxyRefs(objectWithRefs) {\n  return new Proxy(objectWithRefs, shallowUnwrapHandlers);\n}\n// 把 ref 里面的值拿到\nexport function unRef(ref) {\n  return isRef(ref) ? ref.value : ref;\n}\n\nexport function isRef(value) {\n  return !!value.__v_isRef;\n}\nexport { ref };\n","export function emit(instance, str: string, ...args) {\n  let name = \"on\" + str.charAt(0).toUpperCase() + str.slice(1);\n  const { props } = instance;\n  props[name](...args);\n}\n","export function initProps(instance, rawProps) {\n    instance.props = rawProps;\n    \n}","import { readonly } from '../reactivity/reactive'\nimport { proxyRefs } from '../reactivity/ref'\nimport { emit } from './componentEmit'\nimport { initProps } from './componentProps'\nlet currentInstance = null\nexport const createComponentInstance = (vnode, parent) => {\n  //生成组件实例\n  const instance = {\n    vnode,\n    type: vnode.type,\n    setupState: {},\n    emit: () => {},\n    parent,\n    provides: parent ? parent.provides : {},\n    isMount: true,\n    subTree: null\n  }\n  instance.emit = emit.bind(null, instance) as any\n\n  return instance\n}\n\nexport const setupComponent = (instance) => {\n  initProps(instance, instance.vnode.props)\n  //todoinitSlots()\n  console.log(instance)\n\n  setupStatefulComponent(instance)\n}\n\nconst setupStatefulComponent = (instance) => {\n  const Component = instance.type\n  instance.proxy = new Proxy(\n    {},\n    {\n      get(target, key) {\n        const { setupState, props } = instance\n        const hasOwn = (val, key) => {\n          return Object.prototype.hasOwnProperty.call(val, key)\n        }\n        if (hasOwn(setupState, key)) {\n          return setupState[key]\n        }\n        if (hasOwn(props, key)) {\n          return props[key]\n        }\n\n        if (key == '$el') {\n          return instance.vnode.el\n        }\n        if (key == '$props') {\n          return instance.vnode.props\n        }\n        if (key == '$slot') {\n          return instance.vnode.slot\n        }\n      }\n    }\n  )\n  const { setup } = Component\n  const { emit } = instance\n\n  if (setup) {\n    let setupResult\n    //props为只读对象\n    setCurrentInstance(instance)\n    if (instance.props) {\n      console.log(instance.props)\n      console.log(instance)\n\n      setupResult = setup(/**BUG*/ readonly(instance.props), { emit })\n    } else {\n      setupResult = setup({}, { emit })\n    }\n    setCurrentInstance(null)\n    handleSetupResult(instance, setupResult)\n  }\n}\n\nconst handleSetupResult = (instance, setupResult) => {\n  if (typeof setupResult == 'object') {\n    instance.setupState = proxyRefs(setupResult)\n  }\n\n  finishComponentSetup(instance)\n}\n\nconst finishComponentSetup = (instance) => {\n  const Component = instance.type\n  instance.render = Component.render\n}\nfunction setCurrentInstance(instance) {\n  currentInstance = instance\n}\nexport const getCurrentInstance: any = () => {\n  return currentInstance\n}\n","export const createVnode=(type,props?,children?) => {\n    const vnode = {\n        type,\n        props,\n      children,\n        el:null\n      }\n      return vnode\n}\n\n","import { createVnode } from \"./createVnode\";\n\nexport function createAppApi(render) {\n  return function createApp(rootComponent) {\n    return {\n      mount(rootContainer) {\n        const vnode = createVnode(rootComponent);\n        render(vnode, rootContainer);\n      },\n    };\n  };\n}\n","let queue: any[] = []\r\nlet isFlushPending = false\r\nexport function nextTick(fn) {\r\n  return fn ? Promise.resolve().then(fn) : Promise.resolve()\r\n}\r\nfunction queueJobs(job) {\r\n  console.log('scheduler')\r\n\r\n  if (queue.includes(job)) return\r\n  queueFlush(job)\r\n}\r\nexport { queueJobs }\r\nfunction queueFlush(job: any) {\r\n  if (isFlushPending) {\r\n    return\r\n  }\r\n  isFlushPending = true\r\n  queue.push(job)\r\n  new Promise((resolve) => {\r\n    resolve(1)\r\n  }).then(() => {\r\n    isFlushPending = false\r\n    queue.forEach((job) => {\r\n      job()\r\n    })\r\n    queue = []\r\n  })\r\n}\r\n","import { effect } from '../reactivity/effect'\nimport { createComponentInstance, setupComponent } from './component'\nimport { createAppApi } from './createApp'\nimport { queueJobs } from './queueJob'\nexport function createRenderer(options) {\n  const { createElement, insert, patchProp } = options\n  const render = (vnode, container) => {\n    patch(null, vnode, container)\n  }\n\n  const patch = (n1, n2, container, parentInstance?) => {\n    if (n2.type == 'Text') {\n      processText(n2, container, parentInstance)\n    } else {\n      if (typeof n2.type == 'string') {\n        processElement(n1, n2, container, parentInstance)\n      } else {\n        processComponent(n2, container, parentInstance)\n        // !n1 ? processComponent(n2, container, parentInstance) :\n        //   updateComponent(n1,n2,container,parentInstance)\n      }\n    }\n  }\n  function updateComponent(n1, n2, container, parentInstance) {\n    //TODO更新组件\n  }\n  function processText(vnode, container, parentInstance) {\n    // const text: Text = document.createTextNode(vnode.children);\n    vnode.el = container\n    container.textContent = vnode.children\n  }\n  function processElement(n1, n2, container, parentInstance) {\n    mountEelment(n1, n2, container, parentInstance)\n  }\n  function mountEelment(n1, n2, container, parentInstance) {\n    if (!n1) {\n      console.log('init')\n      const el: any = createElement(n2.type)\n      n2.el = el\n      const { children, props } = n2\n      //子节点是文本直接插入\n      if (typeof children == 'string' || typeof children == 'number') {\n        el.textContent = children\n      } else {\n        //子节点有组件循环处理\n        children.forEach((v) => {\n          patch(n1, v, el, parentInstance)\n        })\n      }\n      for (const key in props) {\n        const val = props[key]\n        patchProp(el, key, null, val)\n      }\n      insert(el, container)\n    } else {\n      console.log('update')\n      const { children, props } = n2\n      n2.el = n1.el\n      //props更新\n      for (const key in props) {\n        const nextProps = props[key]\n        const preProps = n1.props[key]\n        patchProp(n1.el, key, preProps, nextProps)\n      }\n      // children更新\n      patchChildren(n1, n2, parentInstance)\n    }\n  }\n  function patchChildren(pre, next, parentInstance) {\n    const preChildren = pre.children\n    const nextChildren = next.children\n    if (typeof nextChildren == 'string') {\n      if (Array.isArray(preChildren)) {\n        //把老的children清空\n        pre.el.innerHtml = ''\n      }\n      //赋值新的\n      preChildren != nextChildren ? (pre.el.textContent = nextChildren) : ''\n    } else {\n      if (typeof preChildren == 'string') {\n        pre.el.innerHtml = ''\n        nextChildren.forEach((v) => {\n          patch(null, v, pre.el, parentInstance)\n        })\n      } else {\n        //todo diff算法对比更新子节点\n        pre.el.innerHTML = ''\n        nextChildren.forEach((v) => {\n          patch(null, v, pre.el, parentInstance)\n        })\n      }\n    }\n  }\n  function processComponent(vnode, container, parentInstance) {\n    mountComponent(vnode, container, parentInstance)\n  }\n  const mountComponent = (vnode, container, parentInstance) => {\n    const instance = createComponentInstance(vnode, parentInstance)\n    //初始化组件setup\n    setupComponent(instance)\n    setupRenderEffect(instance, vnode, container)\n  }\n  const setupRenderEffect = (instance, vnode, container) => {\n    //响应式变量更新后重新触发页面渲染\n    console.log('kk')\n\n    instance.update=effect(\n      () => {\n        //初始化节点\n        if (instance.isMount) {\n          const { proxy } = instance\n          const subTree = (instance.subTree = instance.render.call(proxy))\n          patch(null, subTree, container, instance)\n          vnode.el = subTree.el\n          instance.isMount = false\n        } else {\n          //更新节点对比subTree\n          const { proxy } = instance\n          const preSubTree = instance.subTree\n          const subTree = (instance.subTree = instance.render.call(proxy))\n          vnode.el = subTree.el\n          patch(preSubTree, subTree, container, instance)\n        }\n      },\n      {\n        scheduler() {\n          queueJobs(instance.update)\n        }\n      }\n    )\n  }\n  return {\n    createApp: createAppApi(render)\n  }\n}\n","import { createVnode } from './createVnode';\n\nexport function h(type,props?,children?) {\n    return createVnode(type,props,children)\n}\n\nexport const createTextVnode = (type, props?, children?) => {\n  const vnode = {\n    type: \"Text\",\n    props,\n    children,\n    el: null,\n  };\n  vnode.children = type;\n  return vnode;\n};","import { getCurrentInstance } from './component'\nexport function provide(key: any, val: any) {\n  let instance = getCurrentInstance()\n\n  if (instance.provides === instance.parent?.provides) {\n    instance.provides = Object.create(instance.parent.provides)\n  }\n\n  instance.provides[key] = val\n}\nexport function inject(key: any, defaultval?: any) {\n  let { provides, parent } = getCurrentInstance()\n  if (key in parent.provides) {\n    return parent.provides[key]\n  } else if (defaultval) {\n    if (typeof defaultval === 'function') {\n      return defaultval()\n    }\n    return defaultval\n  }\n}\n","import { createRenderer } from \"../runtime-core/render\";\n\nfunction createElement(el:any) {\n    return document.createElement(el);\n}\nfunction patchProp(el,key,pre,next) {\n  const isClick = (name: string) => {\n    let reg = /^on[A-Z]/;\n    return reg.test(name);\n  };\n  if (isClick(key)) {\n    let eventtype = key.slice(2).toLowerCase();\n    el.addEventListener(eventtype, next);\n  } else {\n    if (pre != next) {\n    el.setAttribute(key, next);\n    }\n    if (next == null || next == undefined) {\n      el.removeAttribute(key)\n      return\n    }\n  }\n}\nfunction insert(el:any,container:any) {\n    container.append(el)\n}\nconst renderer:any = createRenderer({\n    createElement,\n    patchProp,\n    insert\n})\n\nexport function createApp(...args) {\n    return renderer.createApp(...args)\n}\n\nexport * from \"../runtime-core/index\";\n"],"names":[],"mappings":"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"}